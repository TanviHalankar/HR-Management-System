================================================================================
TEST ACCESS - IMPORTANT NOTES
================================================================================

❌ DON'T test from EC2 using public IP (won't work due to routing)
✅ DO test from your LOCAL COMPUTER using public IP

================================================================================
WHY CAN'T ACCESS FROM EC2 TO PUBLIC IP?
================================================================================

When you curl from EC2 to its own public IP (13.218.64.179), it tries to route
through the internet, which doesn't work properly. You need to use localhost
from EC2, or test from your LOCAL COMPUTER.

================================================================================
STEP 1: TEST FROM EC2 (USE LOCALHOST)
================================================================================

# From EC2, test using localhost (this should work):
curl http://localhost:3000 | head -5
curl http://localhost:8080/actuator/health
curl http://localhost:8761 | head -5

# These should work from EC2!

================================================================================
STEP 2: TEST FROM YOUR LOCAL COMPUTER
================================================================================

From YOUR COMPUTER (not EC2), open terminal and run:

# Test Frontend
curl http://13.218.64.179:3000

# Test API Gateway
curl http://13.218.64.179:8080/actuator/health

# Test Eureka
curl http://13.218.64.179:8761

# Or open in browser:
# http://13.218.64.179:3000
# http://13.218.64.179:8080
# http://13.218.64.179:8761

================================================================================
STEP 3: CHECK FRONTEND BUILD
================================================================================

# Check frontend static files location
docker exec frontend ls -la /usr/share/nginx/html/static/js/

# Find the main JS file
docker exec frontend find /usr/share/nginx/html -name "main.*.js"

# Check if API URL is in the build
docker exec frontend sh -c "find /usr/share/nginx/html -name '*.js' -exec grep -l '13.218.64.179' {} \;"

# OR check all JS files
docker exec frontend sh -c "grep -r 'api-gateway\|13.218.64.179' /usr/share/nginx/html/static/js/ 2>/dev/null | head -5"

================================================================================
STEP 4: VERIFY SECURITY GROUP IS SAVED
================================================================================

Go to AWS Console:
1. EC2 -> Security Groups
2. Select your Security Group
3. Check "Inbound rules" tab
4. Verify you see:
   - Port 3000 from 0.0.0.0/0
   - Port 8080 from 0.0.0.0/0
   - Port 8761 from 0.0.0.0/0

5. If rules exist but you just added them, make sure you clicked "Save rules"

================================================================================
STEP 5: WAIT AND RETRY
================================================================================

After saving Security Group rules:
1. Wait 30-60 seconds for changes to propagate
2. Try from your local computer again
3. Try from a different network (mobile hotspot) if needed

================================================================================
QUICK DIAGNOSIS COMMANDS (RUN ON EC2)
================================================================================

# Test localhost (should work)
curl http://localhost:3000 | head -10
curl http://localhost:8080/actuator/health
curl http://localhost:8761 | head -10

# Check containers
docker ps | grep -E "(frontend|api-gateway|eureka)"

# Check logs
docker logs frontend | tail -10
docker logs api-gateway | tail -20

# Check frontend files
docker exec frontend ls -la /usr/share/nginx/html/
docker exec frontend find /usr/share/nginx/html -name "*.js" | head -5

================================================================================
IF STILL CAN'T ACCESS FROM LOCAL COMPUTER
================================================================================

1. Check your local firewall/antivirus
2. Try from a different browser/device
3. Try from mobile hotspot
4. Check if your ISP is blocking ports
5. Verify Security Group rules are saved in AWS Console
6. Check if there's a Network ACL blocking (less common)

================================================================================

